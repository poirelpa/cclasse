
  <body>
    <p id="label"></p>
    <p>
      <input type = "text" id="data" value="" onkeydown="pressed(event)">
      <input type = "button" id="ok" value="Valider" onclick="response()">
      <input type = "button" value="Cancel" onclick="cancel()">
    </p>

    <script>
    const { ipcRenderer } = require("electron")

    function pressed(event){
      if(event.key=="Enter") response()
      if(event.key=="Escape") cancel()
    }
    function cancel() {
      ipcRenderer.send("closeDialog", false)
      this.close();
    }

    function response() {
      ipcRenderer.send("closeDialog", document.getElementById("data").value)
      this.close();
    }

    window.onload=function() {
      var options = ipcRenderer.sendSync("openDialog", "")
      var params = JSON.parse(options)
      document.getElementById("label").innerHTML = params.label;
      document.getElementById("data").value = params.value;
      document.getElementById("data").focus()
      document.getElementById("data").select()
    }
    </script>
    <link rel="stylesheet" href="./style.css">
  </body>
